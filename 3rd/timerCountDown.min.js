class timerCountDown{constructor(t){this.countdowns=[],this.callback=t,this.timer=null,this.running=!1}init(){document.querySelectorAll("div.iweb-countdown").forEach(t=>{var e=parseInt(t.getAttribute("data-value")),n=t.getAttribute("data-direction")??"down",i="down"===n?e:0;this.countdowns.push({el:t,maxValue:e,direction:n,distance:i,done:!1}),this.updateDisplay(t,i)}),this.start()}start(){this.timer&&clearInterval(this.timer),this.running=!0,this.timer=setInterval(()=>{let e=!0;this.countdowns.forEach(t=>{t.done||("down"===t.direction?0<t.distance&&t.distance--:t.distance<t.maxValue&&t.distance++,this.updateDisplay(t.el,t.distance),("down"===t.direction&&t.distance<=0||"up"===t.direction&&t.maxValue<=t.distance)&&(t.done=!0,"function"==typeof this.callback)&&this.callback(t),t.done)||(e=!1)}),e&&this.pause()},1e3)}pause(){this.timer&&(clearInterval(this.timer),this.timer=null,this.running=!1)}resume(){this.running||this.start()}reset(e){var t=this.countdowns.find(t=>t.el===e);t&&(t.distance="down"===t.direction?t.maxValue:0,t.done=!1,this.updateDisplay(t.el,t.distance),this.running||this.resume())}resetAll(){this.countdowns.forEach(t=>{t.distance="down"===t.direction?t.maxValue:0,t.done=!1,this.updateDisplay(t.el,t.distance)}),this.running||this.resume()}updateDisplay(t,e){var n=(n=Math.floor(e/86400))<10?"0"+n:n,i=(i=Math.floor(e%86400/3600))<10?"0"+i:i,s=(s=Math.floor(e%3600/60))<10?"0"+s:s,e=(e=Math.floor(e%60))<10?"0"+e:e;t.querySelector(".day > span").textContent=n,t.querySelector(".hour > span").textContent=i,t.querySelector(".minute > span").textContent=s,t.querySelector(".second > span").textContent=e}}